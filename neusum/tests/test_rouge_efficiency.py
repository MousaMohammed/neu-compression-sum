from neusum.evaluation.rough_rouge import get_rouge_est_str, get_rouge_est_str_1gram, get_rouge_est_str_2gram

doc_sample = "<SOS> -LRB- CNN -RRB- Lest we Americans forget that -- in the wellsprings of our nation -- France bore the torch of liberty alongside us , our old ally has launched a reminder from across the Atlantic 's waves . @@SS@@ L'Hermione , with three sail masts and bright royal blue and gold markings , is a painstaking replica of an 18th century French frigate that fought with the United States ' founding fathers in the War of Independence . @@SS@@ It set sail in France on Saturday for Virginia to retrace a journey through American history . @@SS@@ In 1780 , the original Hermione was assigned to a French nobleman , who fought as a general in George Washington 's army against the British . @@SS@@ His name : Marie-Joseph Paul Yves Roch Gilbert du Motier , Marquis de Lafayette . @@SS@@ Lafayette carried prized cargo -- news from King Louis XVI that France was throwing men , guns and treasure behind the Colonies , according to a historical summary on L'Hermione 's website . @@SS@@ Lafayette , who had been wounded in the Revolutionary War had gone back to his homeland to lobby on behalf of Washington , who was also one of his close friends . @@SS@@ Lafayette rejoined the fight on the front lines in Virginia , while L'Hermione did sea battle with its 32 guns against the English farther north . @@SS@@ Its coppered bottom was an innovation that made it cut faster through the waters . @@SS@@ In Chesapeake Bay , it joined the blockade that led the British to surrender . @@SS@@ After the war , Lafayette returned to live in France . @@SS@@ More than 200 years later , in 1997 , a group of people came up with the idea of reconstructing the frigate using the same building methods applied in the original . @@SS@@ They claim the replica is the `` most authentically built Tall Ship in the last 150 years . '' @@SS@@ After a year of testing , it set sail Saturday to retrace Lafayette 's journey , 235 years after the original , and France gave it a sendoff with the trappings of an act of state . @@SS@@ `` L'Hermione is a luminous episode of our history . @@SS@@ She is a champion of universal values , freedom , courage and of the friendship between France and the United States , '' French President Francois Hollande said in a speech . @@SS@@ President Obama , in a letter to congratulate the launch , called France `` our Nation 's oldest ally . '' @@SS@@ `` For more than two centuries , the United States and France have stood united in the freedom we owe to one another , '' he wrote . @@SS@@ L'Hermione will ply across the Atlantic for 27 days en route to Yorktown , Virginia , where it plans to arrive in early June . @@SS@@ After that , it will show itself off in 12 ports along the East Coast . @@SS@@ It should be in New York City for the Fourth of July , possibly sharing Independence Day fireworks with the Statue of Liberty . @@SS@@ Since 1886 , that gift from France -- also a reminder of our common bond -- has been America 's quintessential national symbol of freedom . @@SS@@"
abs_sample = "L'Hermione is a painstaking replica of an 18th century ship of the same name . @@SS@@ The original fought with American colonists against the British in the Revolutionary War . @@SS@@"

doc_1 = "<SOS> Havana , Cuba -LRB- CNN -RRB- Charlie Hill sits in a dark bar on a blindingly sunny Havana day . @@SS@@ `` Hey man , '' he says with a smoker 's rasp and a nod that indicates he knows you have been looking for him . @@SS@@ But then a lot of people have been looking for Charlie Hill for a long time . @@SS@@ For 43 years Cuba has provided refuge for Hill from facing charges that he killed a New Mexico police officer and hijacked an airliner to Havana . @@SS@@ Hill , now 65 , decided to give CNN an interview after we 'd spent two years trying to reach him . @@SS@@ He wants to discuss how for the first time he is considering leaving his safe haven and returning to the United States . @@SS@@ Before talking more , Hill finishes his plastic glass of beer and takes a final draw on his stub of a cigarette . @@SS@@ We step out into the sunlight and go to a park where Hill starts to give his reasons why he may soon end his long run from the law . @@SS@@ `` I miss my country , '' he said , his voice cracking . @@SS@@ `` I miss my family . @@SS@@ I would like to go back and see where my grandparents were born , where I was born , where I went to junior high . @@SS@@ Eat some blackberry pie . @@SS@@ Even go to McDonald 's . @@SS@@ That 's only natural . '' @@SS@@ Hill was a black power militant and said he is still a revolutionary . @@SS@@ But he craves the kind of French fries that only capitalism can make . @@SS@@ After five decades of Cold War-era mistrust , the United States and Cuba are working to re-establish full diplomatic ties , but cases like Hill 's present an obstacle to an improved relationship . @@SS@@ New Mexico , where Hill 's case has been open for decades , followed up on the shift in policy from the Obama administration with Gov. Susana Martinez asking Washington to pursue Hill 's extradition . @@SS@@ Critics of the new opening to Cuba say Havana 's harboring of fugitives like Charlie Hill is enough of a reason to maintain a hard line against the government of Raul Castro and keep Cuba on the State Department list of countries that support terrorism . @@SS@@ State Dept. recommends removing Cuba from terrorism list . @@SS@@ Hill , now 65 , may extradite himself first , saying the warming of relations between the United States and Cuba could mean an end to what he calls his `` exile '' on the communist-run , Caribbean island , even if his return brings jail time . @@SS@@ New Mexico Police Chief Pete Kassetas said he welcomed the news of Hill 's possible surrender . @@SS@@ `` I understand that the social environment was very different in 1971 than it is today . @@SS@@ I encourage him to return to face the charges against him on the state level and on the federal level and end his self-imposed exile in Cuba . '' @@SS@@ Charlie Hill 's journey began on November 8 , 1971 , when he and two other men -- Michael Finney and Ralph Goodwin -- were pulled over on I-40 outside Albuquerque , New Mexico , in the middle of a cross-country drive . @@SS@@ All three men were members of the Republic of New Afrika , a black power militant group that sought to break off Louisiana , Mississippi , Alabama , Georgia and South Carolina into a separate nation for African-Americans . @@SS@@ They were on the way from California to the South with a car loaded with weapons to support the cause . @@SS@@ New Mexico State Police Officer Robert Rosenbloom pulled over their rented Ford Galaxie sedan , on suspicion that the car was stolen , said Kassetas . @@SS@@ At 10:41 p.m. , Rosenbloom called in the California license plate of the militants ' car , according to the New Mexico Law Enforcement Memorial . @@SS@@ Fourteen minutes later the dispatcher radioed Rosenbloom back but was unable to reach him . @@SS@@ A police officer arriving at the scene found Rosenbloom 's body lying face down on the road , Kassetas said . @@SS@@ There was a single bullet wound to his throat . @@SS@@ Rosenbloom gripped his flashlight with one hand and his gun with the other , according to the records of the New Mexico Law Enforcement Memorial . @@SS@@"
abs_1 = "Charlie Hill contemplates returning to the United States for family and blackberry pie . @@SS@@ He would also have to face justice on charges of killing a police officer and hijacking a plane ."
import time

# x = time.time()
# for i in range(100):
#     average_f_score, f1, f2, fl = get_rouge_est_str(abs_sample, doc_sample)
#     average_f_score, f1, f2, fl = get_rouge_est_str(abs_1, doc_1)
# print(time.time()-x)


x = time.time()
for i in range(100):
    average_f_score, f1, f2, fl = get_rouge_est_str_2gram(abs_sample, doc_sample)
    average_f_score, f1, f2, fl = get_rouge_est_str_2gram(abs_1, doc_1)
print(time.time() - x)

x = time.time()
for i in range(100):
    average_f_score, f1, f2, fl = get_rouge_est_str_1gram(abs_sample, doc_sample)
    average_f_score, f1, f2, fl = get_rouge_est_str_1gram(abs_1, doc_1)
print(time.time() - x)
